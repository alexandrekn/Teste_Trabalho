<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Armazenamento em Nuvem ‚Äì O Futuro dos Dados</title>
  <meta name="description" content="Data Centers, Sincroniza√ß√£o, Comparativo Nuvem x Local (formato versus) e jogo Sync Runner." />
  <style>
    /* ====== Vari√°veis & base ====== */
    :root{
      --bg:#0b1220; --panel:#101a2f; --card:#13203a;
      --blue:#2ea0ff; --blue-2:#67c1ff; --text:#e8eef7; --muted:#b6c2d6;
      --good:#38d39f; --warn:#ffcc66; --bad:#ff7a7a;
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --radius:16px; --radius-sm:12px;
      --sp-1:10px; --sp-2:16px; --sp-3:24px; --sp-4:36px; --sp-5:56px; --sp-6:80px;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth; scroll-padding-top: 80px;}
    body{margin:0; font-family: Inter, Roboto, Poppins, system-ui, -apple-system, Segoe UI, Arial, sans-serif; background:radial-gradient(1200px 600px at 70% -10%, rgba(46,160,255,.25), transparent), radial-gradient(800px 400px at 20% 10%, rgba(140,201,255,.15), transparent), var(--bg); color:var(--text); line-height:1.6}
    a{color:inherit; text-decoration:none}

    /* ====== Header ====== */
    header{position:sticky; top:0; z-index:1000; backdrop-filter: blur(8px); background: rgba(11,18,32,.6); border-bottom:1px solid rgba(255,255,255,.06)}
    .nav{max-width:1200px; margin:auto; display:flex; align-items:center; gap:var(--sp-3); padding:var(--sp-2) var(--sp-3)}
    .brand{display:flex; align-items:center; gap:12px}
    .logo{width:36px; height:36px}
    .title{font-weight:800; letter-spacing:.3px}
    nav ul{list-style:none; display:flex; gap:var(--sp-2); padding:0; margin:0; flex-wrap:wrap}
    nav a{padding:8px 12px; border-radius:10px; opacity:.9}
    nav a.active, nav a:hover{background:rgba(46,160,255,.15); color:var(--blue)}

    /* ====== Layout helpers ====== */
    .container{max-width:1200px; margin:auto; padding:0 var(--sp-3)}
    section{padding: var(--sp-6) 0}
    .grid{display:grid; gap:var(--sp-3)}
    @media(min-width:768px){.grid-2{grid-template-columns:1.1fr 1fr}.grid-3{grid-template-columns:repeat(3,1fr)}}

    /* ====== Hero ====== */
    .hero{display:grid; gap:var(--sp-4); align-items:center}
    .cta{display:inline-flex; align-items:center; gap:10px; background:linear-gradient(135deg, var(--blue), var(--blue-2)); border:none; color:#061224; font-weight:700; padding:14px 18px; border-radius:12px; box-shadow:var(--shadow); cursor:pointer}
    .panel{background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01)); border:1px solid rgba(255,255,255,.06); padding:var(--sp-3); border-radius:var(--radius); box-shadow:var(--shadow)}
    h1{font-size:clamp(28px, 4vw, 44px); line-height:1.15; margin:0 0 var(--sp-2)}
    h2{font-size:clamp(22px, 3vw, 32px); margin:0 0 var(--sp-3)}
    p.lead{font-size:clamp(16px,1.2vw,18px); color:var(--muted)}

    /* ====== Cards ====== */
    .card{background:var(--card); border:1px solid rgba(255,255,255,.06); border-radius:var(--radius-sm); padding:var(--sp-3); transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease}
    .card:hover{transform:translateY(-4px); box-shadow:var(--shadow); border-color:rgba(110,200,255,.35)}

    /* ====== Comparativo (VERSUS) ====== */
    .versus{position:relative; display:grid; gap:var(--sp-3); align-items:start}
    @media(min-width:880px){ .versus{grid-template-columns:1fr 120px 1fr} }
    .side{background:var(--panel); border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:var(--sp-3)}
    .side h3{display:flex; align-items:center; gap:10px; margin-top:0}
    .side .good li{list-style:"‚úî "; margin-left:12px}
    .side .bad  li{list-style:"‚úñ "; margin-left:12px}
    .center-col{display:grid; place-items:center}
    .vs-badge{width:90px; height:90px; border-radius:50%; display:grid; place-items:center; font-weight:900; letter-spacing:1px; background:radial-gradient(circle at 35% 35%, #2ea0ff, #1b2a48); box-shadow:0 10px 30px rgba(46,160,255,.35); border:1px solid rgba(255,255,255,.15)}
    .pair{display:grid; gap:12px}
    @media(min-width:880px){ .pair{grid-template-columns:1fr 1fr} }
    .pair .tile{background:#0e1730; border:1px solid rgba(255,255,255,.08); border-radius:12px; padding:12px}
    .pair .title{font-weight:700; opacity:.9}

    /* ====== SYNC RUNNER ====== */
    .runner-wrap{display:grid; gap:var(--sp-3)}
    .hud{display:flex; flex-wrap:wrap; gap:10px; align-items:center}
    .badge{background:#0e1730; border:1px solid rgba(255,255,255,.06); padding:8px 12px; border-radius:10px}
    .runner{position:relative; height:360px; border-radius:16px; overflow:hidden; border:1px solid rgba(255,255,255,.06); background:radial-gradient(400px 180px at 20% 50%, rgba(46,160,255,.08), transparent), radial-gradient(400px 180px at 80% 50%, rgba(103,193,255,.08), transparent), #0e1730; box-shadow: var(--shadow);}
    .lane{position:absolute; left:60px; right:60px; height:6px; background:linear-gradient(90deg, rgba(255,255,255,.18) 0 50%, rgba(255,255,255,.06) 50% 100%); background-size:36px 6px}
    .lane.l1{top:90px} .lane.l2{top:180px} .lane.l3{top:270px}
    .device-mini{position:absolute; width:48px; opacity:.9}
    .dev-left{left:8px} .dev-right{right:8px}
    .dev-top{top:60px} .dev-mid{top:150px} .dev-bot{top:240px}
    .player, .obst, .bonus{position:absolute; width:34px; height:34px; border-radius:10px; display:grid; place-items:center}
    .player{background:linear-gradient(135deg, var(--blue), var(--blue-2)); box-shadow:0 6px 18px rgba(46,160,255,.35)}
    .obst{background:linear-gradient(180deg,#2b2744,#1a1730); border:1px solid rgba(255,255,255,.08)}
    .bonus{background:linear-gradient(180deg,#16362a,#11261e); border:1px solid rgba(56,211,159,.4)}
    .over{position:absolute; inset:0; display:none; place-items:center; background:rgba(6,12,24,.65); text-align:center; padding:20px}
    .over.show{display:grid}

    footer{padding: var(--sp-5) 0; border-top:1px solid rgba(255,255,255,.06); background: rgba(6,12,24,.7)}
    .links{display:flex; gap:14px; flex-wrap:wrap; justify-content:center}
    .muted{color:var(--muted)}
  </style>
</head>
<body>
  <!-- HEADER -->
  <header aria-label="Cabe√ßalho do site">
    <div class="nav">
      <a href="#inicio" class="brand" aria-label="Ir para o in√≠cio">
        <svg class="logo" viewBox="0 0 64 64" role="img" aria-label="Logo nuvem"><defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#2ea0ff"/><stop offset="1" stop-color="#67c1ff"/></linearGradient></defs><rect x="10" y="32" width="44" height="18" rx="6" fill="url(#g1)"/><circle cx="26" cy="28" r="10" fill="#8cc9ff"/><circle cx="40" cy="26" r="12" fill="#57b6ff"/></svg>
        <strong class="title">Armazenamento em Nuvem ‚Äì O Futuro dos Dados</strong>
      </a>
      <nav aria-label="Se√ß√µes principais">
        <ul>
          <li><a href="#inicio" class="navlink active">In√≠cio</a></li>
          <li><a href="#data-centers" class="navlink">Data Centers</a></li>
          <li><a href="#sincronizacao" class="navlink">Sincroniza√ß√£o</a></li>
          <li><a href="#comparativo" class="navlink">Vantagens vs Desvantagens</a></li>
          <li><a href="#game" class="navlink">Game</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="content" tabindex="-1">
    <!-- HERO -->
    <section id="inicio" class="container hero">
      <div class="panel">
        <h1>Guarde, acesse e compartilhe de qualquer lugar.</h1>
        <p class="lead">Google Drive, OneDrive e Dropbox conectam voc√™ aos seus arquivos com seguran√ßa, colabora√ß√£o em tempo real e alta disponibilidade.</p>
        <p><a class="cta" href="#data-centers">Entenda como funciona</a></p>
      </div>
    </section>

    <!-- DATA CENTERS -->
    <section id="data-centers" class="container">
      <h2>Como funcionam os Data Centers</h2>
      <p class="lead">Os data centers s√£o grandes instala√ß√µes que abrigam milhares de servidores. Eles garantem que os servi√ßos de nuvem estejam sempre ativos e seguros.</p>
      <div class="grid grid-3">
        <article class="card" aria-label="Seguran√ßa"><h3>Seguran√ßa</h3><p class="muted">Criptografia, controle de acesso e camadas f√≠sica/l√≥gica.</p></article>
        <article class="card" aria-label="Disponibilidade"><h3>Disponibilidade</h3><p class="muted">Clusters, balanceamento e replica√ß√£o entre regi√µes.</p></article>
        <article class="card" aria-label="Escalabilidade"><h3>Escalabilidade</h3><p class="muted">Cresce conforme a demanda sem interrup√ß√£o.</p></article>
      </div>

      <div class="panel" style="margin-top:var(--sp-3)">
        <h3>O que existe dentro de um data center?</h3>
        <div class="grid grid-3">
          <div>
            <strong>Redund√¢ncia</strong>
            <p class="muted">C√≥pias dos dados e componentes duplicados (energia, rede e discos) mant√™m o servi√ßo mesmo com falhas.</p>
          </div>
          <div>
            <strong>Resfriamento & Energia</strong>
            <p class="muted">Ar-condicionado de precis√£o, corredores quente/frio e nobreaks/geradores estabilizam temperatura e alimenta√ß√£o.</p>
          </div>
          <div>
            <strong>Rede & Borda</strong>
            <p class="muted">Links de alta velocidade e pontos de presen√ßa pr√≥ximos reduzem a <em>lat√™ncia</em> e aceleram uploads/downloads.</p>
          </div>
        </div>
        <h4 style="margin-top:16px">Como a nuvem guarda seus arquivos (passo a passo)</h4>
        <ol>
          <li>O cliente envia o arquivo criptografado (HTTPS/TLS).</li>
          <li>O servi√ßo valida permiss√µes e calcula um <em>hash</em> para integridade.</li>
          <li>O arquivo √© fragmentado e distribu√≠do em v√°rios discos/servidores.</li>
          <li>Metadados registram dono, vers√µes e hist√≥rico de altera√ß√µes.</li>
          <li>Rotinas de verifica√ß√£o reparam c√≥pias defeituosas automaticamente.</li>
        </ol>
      </div>
    </section>

    <!-- SINCRONIZA√á√ÉO -->
    <section id="sincronizacao" class="container">
      <h2>Sincroniza√ß√£o de Arquivos</h2>
      <div class="grid grid-2">
        <div class="panel">
          <p class="muted">A sincroniza√ß√£o mant√©m seus arquivos iguais em todos os dispositivos. O agente local detecta mudan√ßas e replica para a nuvem e demais aparelhos.</p>
          <ul>
            <li>Atualiza√ß√µes em tempo real;</li>
            <li>Hist√≥rico e restaura√ß√£o de vers√µes;</li>
            <li>Resolu√ß√£o de conflitos entre edi√ß√µes simult√¢neas.</li>
          </ul>
        </div>
        <div class="panel">
          <div class="sync-canvas" aria-hidden="true">
            <div class="device laptop panel"><strong>Laptop</strong><div class="muted">Pasta sincronizada</div></div>
            <div class="device tablet panel"><strong>Tablet</strong><div class="muted">Somente leitura</div></div>
            <div class="device phone panel"><strong>Celular</strong><div class="muted">Upload r√°pido</div></div>
            <div class="file-dot" id="fileDot" title="Arquivo em tr√¢nsito"></div>
          </div>
        </div>
      </div>

      <div class="panel" style="margin-top:var(--sp-3)">
        <h3>Ciclo de sincroniza√ß√£o</h3>
        <ol>
          <li>Monitoramento de mudan√ßas locais (cria√ß√£o/edi√ß√£o/exclus√£o).</li>
          <li>Fila de eventos com prioriza√ß√£o (arquivos pequenos primeiro).</li>
          <li>Envio criptografado e confirma√ß√£o do servidor.</li>
          <li>Propaga√ß√£o para outros dispositivos conectados.</li>
          <li>Resolu√ß√£o de conflitos com <strong>hist√≥rico de vers√µes</strong>.</li>
        </ol>
        <h4 style="margin-top:12px">Problemas comuns e solu√ß√µes</h4>
        <ul>
          <li><strong>Conex√£o inst√°vel:</strong> o cliente pausa e retoma automaticamente (retransmiss√£o).</li>
          <li><strong>Arquivo muito grande:</strong> upload em partes (chunked) e retom√°vel.</li>
          <li><strong>Dois editando ao mesmo tempo:</strong> vers√µes paralelas com merge posterior.</li>
        </ul>
      </div>
    </section>

    <!-- COMPARATIVO (VERSUS) -->
    <section id="comparativo" class="container">
      <h2>Nuvem x Local</h2>
      <div class="versus">
        <div class="side">
          <h3>‚òÅÔ∏è Nuvem</h3>
          <div class="pair">
            <div class="tile"><div class="title">Acessibilidade</div><div class="muted">Acesso de qualquer lugar e dispositivo.</div></div>
            <div class="tile"><div class="title">Controle total</div><div class="muted">Gest√£o direta do hardware e dados.</div></div>
          </div>
          <div class="pair">
            <div class="tile"><div class="title">Escalabilidade</div><div class="muted">Cresce por demanda, sem compras de hardware.</div></div>
            <div class="tile"><div class="title">Escalabilidade dif√≠cil</div><div class="muted">Limites f√≠sicos e custos de expans√£o.</div></div>
          </div>
          <div class="pair">
            <div class="tile"><div class="title">Backup autom√°tico</div><div class="muted">Rotinas de snapshot e redund√¢ncia.</div></div>
            <div class="tile"><div class="title">Risco de perda f√≠sica</div><div class="muted">Falha/roubo/inc√™ndio impactam o acervo.</div></div>
          </div>
          <ul class="good">
            <li>Colabora√ß√£o em tempo real</li>
            <li>Alta disponibilidade (SLA)</li>
          </ul>
          <ul class="bad">
            <li>Depende da internet</li>
            <li>Custo recorrente (assinatura)</li>
            <li>Quest√µes de privacidade/compliance</li>
          </ul>
        </div>

        <div class="center-col" aria-hidden="true">
          <div class="vs-badge">VS</div>
        </div>

        <div class="side">
          <h3>üíæ Local</h3>
          <div class="pair">
            <div class="tile"><div class="title">Acessibilidade limitada</div><div class="muted">Acesso local ou via VPN.</div></div>
            <div class="tile"><div class="title">Independente da internet</div><div class="muted">Opera√ß√£o offline garantida.</div></div>
          </div>
          <div class="pair">
            <div class="tile"><div class="title">Custo inicial alto</div><div class="muted">Compra de servidores e manuten√ß√£o.</div></div>
            <div class="tile"><div class="title">Sem mensalidade</div><div class="muted">Investimento √∫nico de hardware.</div></div>
          </div>
          <div class="pair">
            <div class="tile"><div class="title">Backup manual</div><div class="muted">Depende de rotinas e disciplina.</div></div>
            <div class="tile"><div class="title">Privacidade interna</div><div class="muted">Dados sob pol√≠ticas da pr√≥pria empresa.</div></div>
          </div>
          <ul class="good">
            <li>Controle de dados e auditoria local</li>
            <li>Baixa lat√™ncia na rede interna</li>
          </ul>
          <ul class="bad">
            <li>Escalabilidade limitada</li>
            <li>Responsabilidade total por seguran√ßa e backup</li>
          </ul>
        </div>
      </div>
      <p class="muted" style="margin-top:8px">Use o modelo <strong>h√≠brido</strong> quando precisar de colabora√ß√£o e elasticidade da nuvem, mantendo dados sens√≠veis em infraestrutura local.</p>
    </section>

    <!-- GAME: SYNC RUNNER -->
    <section id="game" class="container">
      <h2>Sync Runner ‚Äì Corra pela linha de sincroniza√ß√£o</h2>
      <div class="panel runner-wrap">
        <div class="hud">
          <span class="badge" id="score">Pontua√ß√£o: 0</span>
          <span class="badge" id="lives">Vidas: 3</span>
          <span class="badge" id="speed">Velocidade: 1x</span>
          <button class="cta" id="restart">Reiniciar</button>
        </div>
        <div class="runner" id="runner" role="application" aria-label="Jogo Sync Runner. Use setas ‚Üë e ‚Üì para trocar de linha, espa√ßo para pular.">
          <div class="lane l1"></div>
          <div class="lane l2"></div>
          <div class="lane l3"></div>

          <svg class="device-mini dev-left dev-top" viewBox="0 0 64 64" aria-hidden="true"><rect x="8" y="20" width="48" height="28" rx="6" fill="#20345b"/></svg>
          <svg class="device-mini dev-left dev-mid" viewBox="0 0 64 64" aria-hidden="true"><rect x="6" y="8" width="52" height="48" rx="8" fill="#20345b"/></svg>
          <svg class="device-mini dev-left dev-bot" viewBox="0 0 64 64" aria-hidden="true"><rect x="18" y="6" width="28" height="52" rx="8" fill="#20345b"/></svg>

          <svg class="device-mini dev-right dev-top" viewBox="0 0 64 64" aria-hidden="true"><rect x="8" y="20" width="48" height="28" rx="6" fill="#20345b"/></svg>
          <svg class="device-mini dev-right dev-mid" viewBox="0 0 64 64" aria-hidden="true"><rect x="6" y="8" width="52" height="48" rx="8" fill="#20345b"/></svg>
          <svg class="device-mini dev-right dev-bot" viewBox="0 0 64 64" aria-hidden="true"><rect x="18" y="6" width="28" height="52" rx="8" fill="#20345b"/></svg>

          <div class="player" id="player" style="left:90px; top:163px" aria-label="Arquivo corredor" title="Arquivo"></div>
          <div class="over" id="over">
            <div>
              <h3>Conex√£o perdida!</h3>
              <p class="muted">Clique em Reiniciar para jogar de novo. Colete <strong>b√¥nus</strong> (backup/criptografia/redund√¢ncia) e evite <strong>obst√°culos</strong> (lat√™ncia/desconex√£o/falha).</p>
            </div>
          </div>
        </div>
      </div>
      <p class="muted">Controles: <strong>‚Üë/‚Üì</strong> troca de linha ‚Ä¢ <strong>Barra de Espa√ßo</strong> pula.</p>
    </section>
  </main>

  <footer class="container" aria-label="Rodap√©">
    <div class="links"><a href="#inicio">Sobre</a> ¬∑ <a href="#comparativo">Termos</a> ¬∑ <a href="#game">Contato</a></div>
    <p class="muted" style="margin-top:4px">¬© 2025 ‚Äì Projeto educacional fict√≠cio ‚Ä¢ Armazene seu futuro na nuvem!</p>
  </footer>

  <script>
  // ===== Links ativos + fallback de scroll =====
  const links = document.querySelectorAll('.navlink');
  const sections = [...document.querySelectorAll('main section')];
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{ if(e.isIntersecting){ const id = e.target.id; links.forEach(a=>a.classList.toggle('active', a.getAttribute('href') === '#' + id)); } });
  }, {threshold:.2});
  sections.forEach(s=>io.observe(s));
  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click', (e)=>{
      const id = a.getAttribute('href').slice(1);
      const target = document.getElementById(id);
      if(target){ e.preventDefault(); target.scrollIntoView({behavior:'smooth', block:'start'}); history.replaceState(null,'','#'+id); }
    });
  });

  // ===== Header sombra =====
  const header = document.querySelector('header');
  addEventListener('scroll', ()=>{ header.style.boxShadow = (scrollY>6)? 'var(--shadow)' : 'none'; });

  // ===== Anima√ß√£o de sincroniza√ß√£o =====
  const dot = document.getElementById('fileDot');
  const syncSec = document.getElementById('sincronizacao');
  if(dot && syncSec){
    const syncObs = new IntersectionObserver((es)=>{ es.forEach(e=>{ if(e.isIntersecting){ dot.classList.add('animate'); } else { dot.classList.remove('animate'); } }); }, {threshold:.1});
    syncObs.observe(syncSec);
  }

  // ===== GAME: SYNC RUNNER =====
  const wrap = document.getElementById('runner');
  const player = document.getElementById('player');
  const over = document.getElementById('over');
  const scoreEl = document.getElementById('score');
  const livesEl = document.getElementById('lives');
  const speedEl = document.getElementById('speed');
  const restartBtn = document.getElementById('restart');

  const lanesY = [73+17, 163, 253];
  let lane = 1; let vy = 0; let jumping=false;
  let objects=[]; let score=0; let lives=3; let speed=1; let running=true; let lastSpawn=0;

  function setHUD(){ scoreEl.textContent = 'Pontua√ß√£o: '+score; livesEl.textContent = 'Vidas: '+lives; speedEl.textContent = 'Velocidade: '+speed+'x'; }
  function obstacleIcon(){ return '<svg viewBox="0 0 24 24" width="20" height="20"><path fill="#ff7a7a" d="M12 2 2 22h20L12 2zm0 6 6 12H6l6-12z"/></svg>'; }
  function bonusIcon(){
    const picks = [
      '<svg viewBox="0 0 24 24" width="20" height="20"><path fill="#38d39f" d="M12 2 4 6v6c0 5 3.4 9.2 8 10 4.6-.8 8-5 8-10V6z"/></svg>',
      '<svg viewBox="0 0 24 24" width="20" height="20"><path fill="#2ea0ff" d="M12 3 6 9h4v6h4V9h4z"/></svg>',
      '<svg viewBox="0 0 24 24" width="20" height="20"><path fill="#67c1ff" d="M4 18h4V6H4zm6 0h4V10h-4zm6 0h4V3h-4z"/></svg>'
    ];
    return picks[Math.floor(Math.random()*picks.length)];
  }
  function spawn(){
    if(!wrap) return; const isObstacle = Math.random()<0.6; const l = Math.floor(Math.random()*3);
    const el = document.createElement('div'); el.className = isObstacle? 'obst' : 'bonus'; el.innerHTML = isObstacle? obstacleIcon() : bonusIcon();
    el.style.right='-40px'; el.style.top = (lanesY[l]-17)+'px'; el.style.width='34px'; el.style.height='34px'; el.style.display='grid'; el.style.placeItems='center';
    wrap.appendChild(el); objects.push({el, type:isObstacle?'obst':'bonus', x: wrap.clientWidth+40, y: lanesY[l]-17, w:34, h:34, spd: 3+speed});
  }
  function reset(){
    objects.forEach(o=>o.el.remove()); objects=[]; score=0; lives=3; speed=1; lane=1; vy=0; jumping=false; running=true; lastSpawn=0; over.classList.remove('show');
    player.style.top = (lanesY[lane]-17)+'px'; setHUD(); requestAnimationFrame(loop);
  }
  function rectsIntersect(a,b){ return !(a.x+a.w < b.x || a.x > b.x+b.w || a.y+a.h < b.y || a.y > b.y+b.h); }
  function loop(ts){
    if(!running) return;
    if(ts - lastSpawn > Math.max(700 - speed*80, 250)){ spawn(); lastSpawn = ts; }
    for(let i=objects.length-1;i>=0;i--){ const o=objects[i]; o.x -= o.spd; o.el.style.transform = `translateX(${- (wrap.clientWidth - o.x)}px)`; if(o.x < -60){ o.el.remove(); objects.splice(i,1); } }
    if(jumping){ vy += 0.9; let top = parseFloat(player.style.top); top += vy; const base = lanesY[lane]-17; if(top>=base){ top=base; jumping=false; vy=0; } player.style.top = top+'px'; }
    const pRect = {x:90, y:parseFloat(player.style.top), w:34, h:34};
    for(let i=objects.length-1;i>=0;i--){ const o=objects[i]; const oRect = {x:o.x-34, y:o.y, w:o.w, h:o.h}; if(rectsIntersect(pRect, oRect)){ if(o.type==='obst'){ lives--; if(lives<=0){ running=false; over.classList.add('show'); break;} } else { score += 10; if(score % 50 === 0) speed++; } setHUD(); o.el.remove(); objects.splice(i,1); } }
    if(running) requestAnimationFrame(loop);
  }
  addEventListener('keydown', (e)=>{ if(!running) return; if(e.key==='ArrowUp'){ lane = Math.max(0, lane-1); player.style.top = (lanesY[lane]-17)+'px'; } else if(e.key==='ArrowDown'){ lane = Math.min(2, lane+1); player.style.top = (lanesY[lane]-17)+'px'; } else if(e.key===' '){ if(!jumping){ jumping=true; vy = -10; } e.preventDefault(); } });
  document.getElementById('restart').addEventListener('click', reset);
  reset();
  </script>
</body>
</html>
